# Preventing Future Problems

Kurs boyunca birkaç kez vurguladık ki, bir sorunla karşılaştığımızda genellikle en iyi çözümün hızlı bir geçici çözüm bulmak olduğudur. Böylece etkilenen kişiler mümkün olan en kısa sürede işlerine geri dönebilirler. Diyelim ki veritabanı sunucunuz alanı tükendiği için çöktü. Hızlı bir şekilde ek bir sabit diski ekleyerek ve servisi yeniden başlatarak sorunu çözebilirsiniz. Ancak unutmayın, işimiz burada bitmiyor. Etkilenen kullanıcılar işlerini mutlu bir şekilde sürdürdükten sonra, sorunun gelecekte tekrarlanmasını önleyecek uzun vadeli bir çözüm aramamız gerekiyor. Veritabanı sunucusu senaryosunda, bu, diskin alanının tükenmeye başlamadan önce bunu tespit etmek olacaktır. Peki, bunu bir kristal küre olmadan nasıl yaparız? Bir anahtar strateji, izleme araçlarını iyi kullanmaktır. İzleme hakkında söylenecek çok şey var, bu konuda tam bir kurs yapabilirdik. Kısacası, önemsediğiniz bilgisayarların verilerini bu bilgileri toplayan merkezi bir konuma göndermek istersiniz. Ve sonra bu bilgileri kendiniz inceleyebilmeli ve değerler beklenen aralıkta değilse uyarıları tetikleyebilmelisiniz. İzleme sistemini ilk kurduğunuzda hangi bilgilere öncelik vermeniz gerektiğini belki tam olarak bilemeyebilirsiniz, bu nedenle temel şeylerle başlayın: CPU, disk, bellek ve ağ kullanımı. Zaman geçtikçe ve daha fazla olayla uğraştıkça, izleme sistemine dahil etmek istediğiniz diğer ölçümleri keşfedeceksiniz. Örneğin, bir bilgisayarın aşırı ısınmasıyla ilgili bir sorunu gidermek zorunda kalırsanız, sıcaklık sensörünün verilerini izleme sistemine dahil etmek istersiniz. Ayrıca, bilgisayar üzerinde çalışan belirli bir hizmetle ilgili bilgileri de içermek istersiniz. Eğer bir web sunucusuysa, başarılı web yanıtları ile hatalar arasındaki oranı bilmek istersiniz. Eğer bir veritabanı sunucusuysa, zaman içinde sunulan sorgu sayısını bilmek istersiniz. Ve izleme sistemince yakalanmayan bir olayla uğraşmak zorunda kaldığınızda, hatayı bildirecek yeni izleme ve uyarı kuralları oluşturmayı unutmamanız önemlidir. İzlemenin önemli bir yeteneği, belirli bir süre boyunca alınan ölçümleri içermesidir. Bu şekilde, kaynaklarımızı nasıl kullandığımızı takip edebilir ve eğilimlerdeki değişiklikleri erken fark ederek planlama konusunda bize yardımcı olabiliriz. İyi bir izleme, şeylerin bozulduğunu erken bildirecektir. Ancak düzelttiğimiz şeylerin düzeltildiğinden nasıl emin olabiliriz? Bunun hakkında zaten bahsettik, ama tekrarlamaya değer. Eğer başkası tarafından geliştirilen bir uygulamadaki bir sorunu geçici bir çözümle aşmanız gerekiyorsa, bu sorunu ilgili geliştiricilere bildirmeniz önemlidir. Kodun sorumluları, durumunuzu dikkate alabilir ve gelecekte doğru bir şekilde çalışmasını sağlayabilir. Eğer bunu yapmazsanız, bulduğunuz geçici çözümün mevcut sürüm için yeterli olmadığı bir sonraki sürüm için tamamen yeni bir çözüm bulmanız gerekebilir. Başka birine bir hata bildirirken, daha önce konuştuğumuz en iyi uygulamaları hatırlayın. Ne elde etmeye çalıştığınızı, ne yaptığınızı, beklenen sonucun ne olduğunu ve gerçek sonucun ne olduğunu bildirin. Sorunu çözmek için reprodüksiyon durumunuzu ve sorunlar için geçici çözümleri içererek iletişim kurun. Eğer projenin kaynak koduna erişiminiz varsa, sorunu düzelten bir yama sağlamak, kodunun düzeltilme olasılığını artırır. Öte yandan, sahip olduğunuz yazılımdaki bir sorunu geçici bir çözümle aşmanız gerekiyorsa, sorunu yakalayan bir test yazdığınızdan emin olun. Bu şekilde, aynı sorunu tetikleyecek bir kod değişikliği yapmayacağınızdan emin olabilirsiniz. Ve yazılımın geliştirilmesinden sorumlu değilseniz bile, yeni bir sürüm geldiğinde, hâlâ beklediğiniz gibi çalışıp çalışmadığını kontrol etmek için otomatik testleri çalıştırabilirsiniz. Bu nedenle, uygulamanın yeni bir sürümü geldiğinde bu testleri mutlaka yapmalısınız. Son olarak, hata sizin yazdığınız yazılımdan mı yoksa başkasının yazdığı yazılımdan mı kaynaklanıyor olursa olsun, yaptığınız şeyin anahtar noktalarını, sorunu nasıl teşhis ettiğinizi ve nasıl çözdüğünüzü belgelediğinizden emin olun. Bu sayede, sorun tekrar ortaya çıkarsa, onunla uğraşması gereken kişi veya kişiler hızlı bir çözüm uygulayabilir, değerli zamanını araştırmak yerine. Şimdi, tüm bu kavramların anlaşılır olup olmadığını kontrol etmek için hızlı bir quiz sizi bekliyor.

Throughout our course, we've called out several times that, whenever we're faced with an issue, it's usually best to find a quick workaround. So that those affected can get back to work as soon as possible. Say your database server crashed because it ran out of space. You can solve it quickly by adding an extra hard drive and starting the service back up. But remember, our work doesn't finish there. Once the affected users are happily doing their job, we need to look for a long-term solution that will prevent the problem from happening again in the future. In the database server scenario, that would be detecting that the disk is running out of space before it happens. So how do we do that without a crystal ball? One key strategy is to make good use of monitoring. There's a lot to say about monitoring, so much that we could have a whole course on this subject. The short version of it is that you want the computers you care about to send their data to a centralized location that aggregates all this information. And then you want to be able to look at both the information yourself, and trigger alerts when the values are not within acceptable range. When you first set up a monitoring system, you might not be sure what information to prioritize, so start with the basics, CPU, disk, memory, and network usage. As time passes and you have to deal with more incidents, you'll probably discover other metrics that you'd like to include in your monitoring system. For example, if you have to debug a problem related to a computer overheating, you'll want to include the temperature sensor's data in your monitoring system. You'll also want to include information related to the specific service running on the computer. If it's a web server, you'll want to know the ratio between successful web responses and errors. If it's a database server, you'll want to know how many queries that are being served over time. And whenever you have to deal with an incident that wasn't caught by the monitoring system, remember to set up new monitoring and alerting rules that will notify you about the problem if it ever happens again. An important capability of monitoring is to include the measurements taken along a period of time. That way, we can keep track of how we're using our resources, and catch changes in tendencies early on to help us with planning. Having good monitoring will let us know early on if things are broken. But how do we make sure that the things we fix stay fixed? We've mentioned this already, but it's worth repeating. If you have to work around an issue in an application developed by someone else, it's important that you report a bug to the relevant developers. That way, those in charge of the code can take your case into account and make it work correctly in the future. If you don't do this, it's possible that the workaround you figured out for the current version is not sufficient for the next version, and you'll have to figure out a whole new workaround. When reporting a bug to someone else, remember all the best practices that we talked about earlier. Let them know what you were trying to achieve, what you did, what the expected result was, and what the actual result was. Include your reproduction case and workarounds for the issue. If you have access to the source code of the project, providing a patch that fixes the issue increases the chance of that code getting fixed. On the flip side, if you have to work around an issue in the software that you own, make sure that you write a test that catches the problem. That way, you can be sure that you won't ever make a change to the code that will trigger that same issue again. And even if you're not in charge of the development of the software, you can still run automatic tests whenever there's a new version, just to check if it still works as expected. So make sure you perform these tests whenever a new version of the application comes around. Finally, regardless of whether the bug came from software that you wrote or someone else wrote, make sure that you document the key pieces of what you did, how you diagnosed the issue, and how you squashed it. That way, if the issue happens again, you or whoever else needs to deal with it will be able to quickly apply the solution, instead of spending valuable time investigating. Coming up, a quick quiz to make sure that all these concepts have made sense.